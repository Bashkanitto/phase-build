import{j as e,I as x,a as h,r,S as f}from"./index-BwQ9_pH1.js";import{b as v}from"./productService-Bt3BsnKr.js";import{C as _,T as g}from"./CatalogSwitch-C6lV_NV4.js";import"./procentService-u-au2y4b.js";import"./clamp-DTmYCdls.js";const S={"search-header":"_search-header_k1c4u_1"},b=({setSearchTerm:c})=>e.jsxs("div",{className:S["search-header"],children:[e.jsx(x,{placeholder:"Имя пользователя или ключевое слово",onChange:l=>c(l.currentTarget.value)}),e.jsx(h,{placeholder:"Все Категории",data:[{value:"",label:"Все"},{value:"Создано",label:"Создано"},{value:"Подтверждено",label:"Подтверждено"}]}),e.jsx(h,{placeholder:"Все города",data:[{value:"",label:"Все"},{value:"Создано",label:"Создано"},{value:"Подтверждено",label:"Подтверждено"}]})]}),t={"search-page":"_search-page_vt6j9_1","search-title":"_search-title_vt6j9_11","search-description":"_search-description_vt6j9_15","search-tenders":"_search-tenders_vt6j9_20"},L=()=>{const[c,l]=r.useState(""),[o,u]=r.useState([]),[p,n]=r.useState(!0),[d,i]=r.useState(null),j=o.length;if(r.useEffect(()=>{(async()=>{try{n(!0);const a=await v();a?u(a.data.records):i("Failed to load vendor data: response is undefined")}catch(a){i(a instanceof Error?`Failed to load vendor data: ${a.message}`:"An unknown error occurred")}finally{n(!1)}})()},[]),p)return e.jsx(f,{});if(d)return e.jsxs("p",{children:["Error: ",d]});const m=o.filter(s=>s.firstName.toLowerCase().includes(c.toLowerCase()));return e.jsxs("div",{className:t["search-page"],children:[e.jsx(_,{}),e.jsx("p",{className:t["search-title"],children:"Поиск"}),e.jsxs("p",{className:t["search-description"],children:[j," специалистов"]}),e.jsx(b,{setSearchTerm:l}),e.jsx("div",{className:t["search-tenders"],children:e.jsx("div",{className:t["catalog-tenders"],children:m.map(s=>e.jsx(g,{user:s},s.id))})})]})};export{L as default};
